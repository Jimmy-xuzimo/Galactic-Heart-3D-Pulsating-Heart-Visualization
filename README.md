# Galactic Heart: 3D Pulsating Heart Visualization

---

## ❤️ 项目简介

一个沉浸式的3D跳动爱心可视化网页，结合了数学函数生成的3D爱心形状、动态粒子系统和交互式音效。这个项目将数学美学、视觉艺术和音频交互融为一体，创造出一种独特的数字艺术体验。

---

## 🎨 设计理念

### 1. 核心概念
- **数学之美**：使用三维隐函数方程生成精确的爱心形状
- **生命模拟**：通过脉动动画和心跳音效模拟生命的节奏
- **宇宙浪漫**：结合星空背景和飘落的心形粒子，营造宇宙级浪漫氛围

### 2. 视觉层次
- **前景**：3D爱心由数千个粉色粒子构成，实时脉动
- **中景**：心形粒子飘落、星系粒子流动
- **背景**：深邃黑色画布，点缀闪烁星尘

### 3. 色彩设计
- 主色调：`[255, 105, 180]` (热粉红)
- 次色调：`[255, 182, 193]` (浅粉红)
- 强调色：`[255, 20, 147]` (深粉红)
- 背景色：纯黑色，增强对比度和深度感

---

## 🌟 实现效果

### 1. 3D爱心模型
- 使用数学隐函数方程定义三维爱心形状：
  ```
  (x² + (9y²)/4 + z² - 1)³ - x²z³ - (9y²z³)/80 ≤ 0
  ```
- 在三维空间内采样3000个点，形成立体爱心轮廓
- 实时计算透视投影，创建3D旋转效果

### 2. 动态脉动系统
- 多层正弦波叠加，模拟真实心跳节奏：
  - 主心跳：慢速脉动（1.5Hz）
  - 次心跳：快速颤动（8Hz）
  - 呼吸节奏：持续波动（4Hz）

### 3. 粒子生态系统
- **核心粒子**：构成爱心形状的粉色粒子
- **星系粒子**：背景流动的蓝色/白色粒子
- **飘落心形**：随机生成、旋转下落的爱心粒子
- **点击特效**：点击时生成的星星和爱心爆炸效果
- **粒子尾迹**：部分粒子带有拖尾效果，增强运动感

### 4. 音频反馈系统
- **三种心跳音效**：
  1. 标准心跳：模拟真实生理心跳
  2. 梦幻心跳：带有混响和滤波的幻想风格
  3. 钢琴心跳：多谐波合成的音乐风格
- **音频同步**：心跳音效与视觉脉动精确同步
- **渐进式音频**：用户交互后自动初始化，避免自动播放限制

---

## 🎮 功能特性

### 交互功能：
- ✅ 鼠标点击：生成星星和爱心爆炸特效
- ✅ 键盘控制：左右方向键控制3D爱心旋转
- ✅ 自动旋转：爱心持续缓慢自转
- ✅ 响应式设计：适配不同屏幕尺寸

### 视觉效果：
- ✅ 实时3D渲染：60fps流畅动画
- ✅ 多层次粒子系统：5种不同类型的粒子
- ✅ 深度感知：基于Z轴的透视和大小变化
- ✅ 透明度渐变：模拟距离衰减效果

### 音频体验：
- ✅ 三种音效随机播放：增加变化性
- ✅ Web Audio API：高质量音频合成
- ✅ 用户交互触发：符合浏览器自动播放策略

---

## 🔧 技术栈

### 核心技术：
- **纯HTML5 Canvas 2D渲染**
- **原生JavaScript（无框架依赖）**
- **Web Audio API**：动态音频合成
- **数学建模**：三维隐函数、坐标变换

### 主要算法：
1. **3D投影算法**：
   ```javascript
   xProj = width/2 + (xRot * scale)
   yProj = height/2 - (yRot * scale)
   depthFactor = (zRot + distance) / (2 * distance)
   ```

2. **粒子物理**：
   - 速度衰减
   - 重力模拟
   - 生命周期管理

3. **音频合成**：
   - 振荡器（OscillatorNode）
   - 增益控制（GainNode）
   - 滤波器（BiquadFilterNode）
   - 延迟效果（DelayNode）

---

## 🚀 快速开始

### 1. 本地运行
```bash
# 克隆仓库
git clone https://github.com/Jimmy-xuzimo/Galactic-Heart-3D-Pulsating-Heart-Visualization.git

# 进入目录
cd galactic-heart

# 直接打开HTML文件
# 或者使用本地服务器（推荐）
python -m http.server 8000
# 然后访问 http://localhost:8000
```

### 2. 交互方式
- **点击页面任意位置**：初始化音频系统
- **再次点击画布**：生成星星和爱心特效
- **按住左右方向键**：控制爱心旋转方向
- **什么都不做**：观看爱心自动脉动和旋转

---

## 🎯 技术亮点

### 1. 性能优化
- 使用`requestAnimationFrame`实现平滑动画
- 粒子数量动态控制，平衡性能与效果
- Canvas状态管理，避免不必要的重绘

### 2. 代码架构
- 面向对象的粒子系统设计
- 模块化的音效生成函数
- 可配置的颜色和参数系统

### 3. 浏览器兼容性
- 现代浏览器全面支持
- 优雅降级：无音频时仍有完整视觉效果
- 移动设备触屏支持

---

## 📸 效果预览

<img width="4400" height="2722" alt="image" src="https://github.com/user-attachments/assets/d3a53018-e7a5-4fcf-85e2-cdfa04c2f220" />

---

## 🧪 开发说明

### 自定义参数
```javascript
// 在代码中可以调整这些参数：
const PARTICLE_COUNT = 3000;      // 爱心粒子数量
const HEART_SCALE = 12;          // 爱心大小
const PULSE_SPEED = 0.001;       // 脉动速度
const COLORS = [                 // 颜色配置
    [255, 105, 180],  // 热粉红
    [255, 182, 193],  // 浅粉红
    [255, 20, 147]    // 深粉红
];
```

### 调试模式
在浏览器控制台中可访问：
- `window.particles` - 所有粒子实例
- `window.audioContext` - 音频上下文状态
- `window.angleY` - 当前旋转角度

---

## 📄 开源协议

MIT License  
欢迎Fork、Star、提交Issue和PR！

---

## 🎵 体验提示

1. **推荐使用耳机**：获得最佳音频体验
2. **在暗光环境下观看**：视觉效果更佳
3. **尝试不同交互**：点击、键盘控制带来不同体验
4. **全屏模式**：按F11进入全屏，沉浸式体验
